<head>
  <title>meteor-autoform-example</title>
</head>

<body>
 
</body>

<template name="ServiceAdmin">
  
  <div class="container">
  	 <div class="row" style="margin-bottom: 50px;">
  	 	 <legend align="center">Event Types</legend>
     	 <div class="col-12 col-lg-8">
     	 	 {{#autoForm schema=schema id="EventTypeForm" doc=selectedEventTypes novalidate="novalidate"}}
     	 	 
     	 	  <div class="formWrap">
     	 	  	<div class="form-group {{#if afFieldIsInvalid 'type'}}has-error{{/if}}">
            {{afFieldLabel 'type'}}
            {{afFieldInput 'type' autofocus='autofocus' placeholder="schemaLabel"}}
            {{#if afFieldIsInvalid 'type'}}
            <span class="help-block">{{afFieldMessage 'type'}}</span>
            {{/if}}
          </div>

     	 	  </div>
     	 	  {{> buttons}}
     	 	  {{/autoForm}}	

     	 </div>
     	 	    <div class="col-12 col-lg-4">
            {{> eventTypeTable}}

      </div>
      <legend align="center">Location</legend>
  	 <div class="col-12 col-lg-8">
  			{{> LocationsTemplate}}
  	 		
     </div>
     <div class="col-12 col-lg-4">
  	 		{{> LocationsTable}}	
  	 </div>
  	 <legend align="center">Service Category</legend>
  	 <div class="col-12 col-lg-8">
  			{{> ServiceCateogiesTp}}
  	 		
     </div>
  	</div>
  	
    
  	 

</div>
 </template> 

 <template name="eventTypeTable">
  <table class="table table-bordered table-striped table-hover">
    <tbody>
      <tr>
        <td><button type="button" class="btn-link eventTypeClear">New EventType</button></td>
        <td></td>
      </tr>
      {{#each eventtypes}}
      <tr>
        <td><button type="button" class="btn-link eventTypeSelect">{{type}}</button></td>
        <td>
          {{#autoForm schema='EventTypes' doc=this novalidate="novalidate"}}
          <button type="submit" class="btn btn-primary remove">Delete</button>
          {{/autoForm}}
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>

</template>

<template name="buttons">
  {{#if newEventTypeMode}}
  <button type="submit" class="btn btn-primary insert">Insert</button>
  {{else}}
  <button type="submit" class="btn btn-primary update">Update</button>
  {{/if}}
  <button type="reset" class="btn btn-default">Reset</button>
</template>


<template name="LocationsTemplate">


  {{#autoForm schema='LocationsForm' novalidate="novalidate" id="locationsForm"}}
  <fieldset>
    

    <div class="form-group {{#if afFieldIsInvalid 'district'}}has-error{{/if}}">
      {{afFieldLabel 'district'}}
      {{afFieldInput 'district'}}
      {{#if afFieldIsInvalid 'district'}}
      <span class="help-block">{{afFieldMessage 'district'}}</span>
      {{/if}}
    </div>
    <div class="form-group {{#if afFieldIsInvalid 'city'}}has-error{{/if}}">
      {{afFieldLabel 'city'}}
      {{afFieldInput 'city'}}
      {{#if afFieldIsInvalid 'city'}}
      <span class="help-block">{{afFieldMessage 'city'}}</span>
      {{/if}}
    </div>

    <div class="form-group {{#if afFieldIsInvalid 'citycode'}}has-error{{/if}}">
      {{afFieldLabel 'citycode'}}
      {{afFieldInput 'citycode'}}
      {{#if afFieldIsInvalid 'citycode'}}
      <span class="help-block">{{afFieldMessage 'citycode'}}</span>
      {{/if}}
    </div>
     <div class="form-group {{#if afFieldIsInvalid 'country'}}has-error{{/if}}">
      {{afFieldLabel 'country'}}
      {{afFieldInput 'country'}}
      {{#if afFieldIsInvalid 'country'}}
      <span class="help-block">{{afFieldMessage 'country'}}</span>
      {{/if}}
    </div>
  </fieldset>

  <button type="submit" class="btn btn-primary insert">Insert</button>
  {{/autoForm}}

</template>



<template name="LocationsTable">
	
  <table class="table table-bordered table-striped table-hover" style="margin: 25px 0;">
    <thead>
      <tr>
        <th>District</th>
        <th>City</th>
        <th>City Code</th>
        <th>Country</th>
        
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#each locations}}
      <tr>
        <td>{{district}}</td>
        <td>{{city}}</td>
        <td>{{citycode}}</td>
        <td>{{country}}</td>
        
        <td>
          {{#autoForm schema='LocationsForm' doc=this novalidate="novalidate"}}
          <button type="submit" class="btn btn-primary remove">Delete</button>
          {{/autoForm}}
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>

</template>	


<template name="ServiceCateogiesTp">


  {{#autoForm schema='ServiceCategoriesForm' novalidate="novalidate" id="servicecatForm"}}
  <fieldset>
    

    <div class="form-group {{#if afFieldIsInvalid 'name'}}has-error{{/if}}">
      {{afFieldLabel 'name'}}
      {{afFieldInput 'name'}}
      {{#if afFieldIsInvalid 'name'}}
      <span class="help-block">{{afFieldMessage 'name'}}</span>
      {{/if}}
    </div>
    <div class="form-group {{#if afFieldIsInvalid 'category'}}has-error{{/if}}">
            {{afFieldLabel 'category'}}
            {{afFieldInput 'category' options=categoryOptions}}
            
          </div>

   

  <button type="submit" class="btn btn-primary insert">Insert</button>
  {{/autoForm}}

</template>



